# Учебный пакет AngularJS

Это учебный стартовый пакет для создания приложения на базе фреймворка AngularJS.

Включает в себя:

- инструменты автоматической сборки проекта;

- систему документирования кода;

- пример простого web-приложения, демонстрируещего основные возможности фреймворка AngularJS.

## Начало работы

Для начала работы достаточно клонировать репозиторий проекта и установить зависимости. Для этого вам потребуется установить [git](http://git-scm.com/), 
[nodejs](http://nodejs.org/) (и поставляемый вместе с ним менеджер пакетов npm), [bower](https://bower.io/).

Для клонирования проекта необходимо выполнить команду в терминале:

```
git clone https://github.com/xsolla/summer-school-angular.git
```

После клонироваиня нужно перейти в директорию `summer-school-angular` и произвести установку зависимостей используя команду:

```
npm install
```

Установка пакетов Bower должна произойти автоматически.

Для запуска демонстрационного приложения потребуется команда:

```
npm run demo
```

Весь перечень команд можно найти в разделе `scripts` в файле `package.json`.

## Использование более ранних версий

В процессе выполнения заданий может потребоваться использование конкретной версии пакета. Для получения нужной версии сначала клонируем проект с GitHub, как обычно.

Или, если хотите клонировать в новую директорию, тогда выполняется команда:

```
git clone https://github.com/xsolla/summer-school-angular.git <dir_name>
```

здесь `<dir_name>` -- название директории, в которую будет клонироваться проект.

Переходим в директорию с проектом:

```
cd <dir_name>
```

и выполняем:

```
git tag -l
```

Эта команда выведет полный список тегов (версий) выбранного проекта.

После чего выполняем команду:

```
git checkout tags/<tag_name>
```

где `<tag_name>` -- требуемая версия.

К примеру, если мы хотим получить версию `v1.0.0` и разместить её в директории `summer-school-angular-v1.0.0`, тогда нам нужно выполнить три команды:

```
git clone https://github.com/xsolla/summer-school-angular.git summer-school-angular-v1.0.0
cd summer-school-angular-v1.0.0
git checkout tags/v1.0.0
```

Готово! Теперь остаётся установить зависимости и начать работу.

## Структура приложения

```
.
├── src                         <- исходники приложения
│   ├── assets                  <- ассеты
│   │   ├── fonts               <- шрифты
│   │   │   └── demo-font-file  <- для обозначения структуры (файл шрифта)
│   │   ├── images              <- изображения
│   │   │   └── demo-image-file <- для обозначения структуры (файл изображения)
│   │   └── styles              <- стили
│   │       ├── components      <- стили компонентов
│   │       │   └── _mortgage-calculator.scss    <- стили "Кредитного калькулятора"
│   │       ├── _variables.scss <- переменные стилей
│   │       ├── _examples.scss  <- стили примеров
│   │       ├── _footer.scss    <- стили футера
│   │       └── main.scss       <- корневой файл SASS
│   ├── components              <- компоненты
│   │   ├── navigation-bar      <- пример компонента (навигация)
│   │   │   ├── controller.js   <- контроллер компонента навигации
│   │   │   ├── directive.js    <- директива компонента навигации
│   │   │   └── view.jade       <- шаблон компонента навигации
│   │   ├── mortgage-calculator <- "Кредитный калькулятор"
│   │   │   ├── controller.js   <- контроллер "Кредитного калькулятора"
│   │   │   ├── directive.js    <- директива "Кредитного калькулятора"
│   │   │   └── view.jade       <- шаблон "Кредитного калькулятора"
│   │   └── index.js            <- определяем модуль ngs.components
│   ├── controllers             <- контроллеры
│   │   ├── base.js             <- описываем базовый класс контроллеров
│   │   ├── state.js            <- описываем класс стейт-контроллеров
│   │   └── index.js            <- определяем модуль ngs.controllers
│   ├── directives              <- директивы
│   │   └── index.js            <- определяем модуль ngs.directives
│   ├── filters                 <- фильтры
│   │   ├── formatted-number.js <- форматипрование чисел
│   │   └── index.js            <- определяем модуль ngs.filters
│   ├── services                <- сервисы (сервисы, провайдеры и фабрики)
│   │   ├── api.js              <- сервис взаимодействия с API
│   │   ├── initialize.js       <- инициализация приложения
│   │   ├── settings.js         <- сервис хранения настроек приложения
│   │   ├── state.js            <- сервис навигации в приложении
│   │   ├── storage.js          <- класс хранения произвольных данных
│   │   ├── translate.js        <- класс для отложенной загрузки переводов
│   │   └── index.js            <- определяем модуль ngs.services
│   ├── states                  <- состояния (стейты) приложения
│   │   ├── about               <- страница "О проекте"
│   │   │   ├── controller.js   <- контроллер страницы "О проекте"
│   │   │   └── view.jade       <- шаблон страницы "О проекте"
│   │   ├── home                <- страница "Главная"
│   │   │   ├── controller.js   <- контроллер страницы "Главная"
│   │   │   └── view.jade       <- шаблон страницы "Главная"
│   │   ├── calc                <- страница "Калькулятор"
│   │   │   ├── controller.js   <- контроллер страницы "Калькулятор"
│   │   │   └── view.jade       <- шаблон страницы "Калькулятор"
│   │   ├── index               <- стартовая страница (редиректим на страницу "по умолчанию")
│   │   │   ├── controller.js   <- контроллер стартовой страницы
│   │   │   └── view.jade       <- шаблон стартовой страницы
│   │   ├── error               <- страница ошибки
│   │   │   ├── controller.js   <- контроллер страницы ошибки
│   │   │   └── view.jade       <- шаблон страницы ошибки
│   │   └── index.js            <- определяем модуль ngs.states и прописываем пути
│   ├── app.js                  <- скрипт приложения
│   └── index.html              <- индексный файл приложения (точка входа)
├── config                      <- конфиги приложения
│   ├── environtments           <- конфиги окружений
│   │   ├── dev.json            <- конфиги для разработки
│   │   └── prod.json           <- конфиги для продакшен версии
│   └── config.js               <- шаблон конфигурационного файла Angular-приложения
├── tools                       <- инструменты сборки
│   └── gulp                    <- gulp-файлы
│       ├── build.js            <- сборка проекта
│       ├── fake-api.js         <- запуск сервера API для демонстрации
│       ├── server.js           <- запус сервера разработки
│       └── wiredep.js          <- сборка пакетов Bower
├── fake-api                    <- сервер API для демонстрации
│   └── db.json                 <- описание ответов от демонстрационного API
├── .gitignore                  <- игнорим для Git
├── bower.json                  <- конфиг Bower
├── Gruntfile.js                <- конфиг Grunt
├── gulpfile.js                 <- корневой gulp-файл
├── LICENSE.txt                 <- лицензионное соглашение
├── package.json                <- конфиг NPM
└── README.md                   <- описание данного учебного пакета
```

## Сборка проекта 

Для сборки проекта необходимо откорректировать файл `./config/environtment/prod.json` в соответствии с настройками вашего проекта. После чего выполнить команду:

```
npm run build.dev
```

Собранный проект будет располагаться в директории `dist`.

## Сервер разработки

Сначала вам потребуется откорректировать файл `./config/environtment/dev.json`, указав в нём путь к используемому API. По умолчанию указаны пути к демонстрационному API (о демо-режиме ниже).

Для запуска сервера разработки необходимо выполнить команду:

```
npm run serve.dev
```

После запуска в браузере по адресу `http://localhost:3002/` откроется ваше приложение. Теперь все изменения в исходниках вы будете наблюдать без перезагрузки страницы.

## Документирование кода

Для документирования кода используется плагин для Grunt [grunt-ngdocs](https://www.npmjs.com/package/grunt-ngdocs).

Для генерации документации вашего компонента достаточно добавить аннотацию перед кодом компонента. К примеру:

```
/**
 * @ngdoc provider
 * @name ngs.services:initialize
 *
 * @description
 * Функция для получения инициализирующих данных
 **/
```

Для запуска сервера документации необходимо выполнить команду:

```
npm run docs
```

После этого в браузере по адресу `http://localhost:8000/docs/#/api` откроется документация вашего кода.

## Демонстрационный режим

Данный режим необходим только для проверки работоспособности приложения при начальной установке.

Для запуска демонстрационного приложения нужно выполнить команду:

```
npm run demo
```

Фактически команда запускает демонстрационный сервер API (основан на пакете [gulp-json-srv](https://www.npmjs.com/package/gulp-json-srv)), запросы к которому описываются в файле `./fake-api/db.json`. Затем запускается сервер разработки (по умолчянию путь к API: `/fake-api/`).